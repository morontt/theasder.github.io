<!DOCTYPE html>
<html lang="en">

<head profile="http://www.w3.org/2005/10/profile">
    <link rel="shortcut icon" href="http://theasder.github.io/favicon.ico" type="image/icon">
    <link rel="icon" type="image/icon" href="http://theasder.github.io/favicon.ico">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Полезные материалы по всему, что может быть интересно программисту.">
    <meta name="author" content="Artyom Dryomov">
    <link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic,700italic&subset=latin,cyrillic,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
    <title>Работа с git</title>
    <script type="text/javascript" src="http://theasder.github.io/js/pace.min.js"></script>
    <!-- Bootstrap core CSS -->
    <!--
    <link href="http://theasder.github.io/css/complexity.css" rel="stylesheet">
    -->
    <link href="http://theasder.github.io/css/bootstrap.css" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link href="http://theasder.github.io/css/blog-post.css" rel="stylesheet">
    <script type="text/javascript" src="//vk.com/js/api/openapi.js?112"></script>
    <script type="text/javascript">
        VK.init({apiId: 4340751, onlyWidgets: true});
    </script>
</head>

<body>
    <div class="container">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://theasder.github.io">Библиотека программиста</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                        <li class="active"><a href="http://theasder.github.io/"><span class="glyphicon glyphicon-file"></span>  Статьи</a></li>
                        <li><a target="_blank" href="http://vk.com/page-54530371_44620320"><span class="glyphicon glyphicon-book"></span>  Каталог книг</a></li>
                        <li><a target="_blank" href="http://vk.com/page-54530371_46988280"><span class="glyphicon glyphicon-film"></span>  Видео-лекции</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>
    <div class="container">
        <div class="row">
            <div class="col-lg-9">
                    <h3>Работа с git</h3>
<p class="time"><span class="label label-default">git</span> <span class="glyphicon glyphicon-time"></span> 08/05/2014 </p>

<div class="post">
<p><img src="http://s52.radikal.ru/i137/1405/01/bc819f622d5b.png" class="img-responsive"><br /></p>

<p>Git &mdash; распределенная система управления версиями (англ. VCS или CVS, Control Version System). Один из самых необходимых и полезных инструментов при разработке чего угодно (от простых статей и медиа-файлов до больших и сложных проектов). При командной разработке Git вообще незаменим и стал практически стандартом ведения работы. Поэтому, уважающему себя разработчику нужно знать Git и уметь с ним работать.</p>

<h3>Основные команды для работы с Git:</h3>

<h4>Создание нового репозитория</h4>

<p>Для того чтобы создать новый репозиторий git необходимо открыть папку где вы хотите его разместить и выполнить команду</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git init
</code></pre></div>
<h4>Получение репозитория</h4>

<p>Создать локальную рабочую копию репозитория можно командой</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git clone /путь/к/репозиторию
</code></pre></div>
<p>Когда используется удаленный сервер, команда будет</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git clone юзер@хост:/путь/к/репозиторию
</code></pre></div>
<h4>Рабочий процесс</h4>

<p>Ваш локальный git репозиторий состоит из трех &quot;сущностей&quot;. Рабочий каталог (Working Directory) содержит файлы. Индекс (Index) или область подготовленных файлов (Staging Area), содержит информацию о том, что должно войти в следующий коммит и HEAD указывает на последний коммит что вы сделали. </p>

<h4>Подготовка и коммит</h4>

<p>Чтобы подготовить изменения (добавить их в Индекс) используйте</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git add &lt;имя_файла&gt;
git add *
</code></pre></div>
<p>Это первый шаг в основном рабочем процессе. Сделать коммит подготовленных изменений можно командой</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git commit -m &quot;Описание коммита&quot;
</code></pre></div>
<p>Теперь изменения закреплены в локальном репозитории и на них указывает HEAD, но еще не в удаленном репозитории.</p>

<h4>Отправка изменений</h4>

<p>Чтобы отправить эти изменения в ваш удаленный репозиторий, выполните</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git push origin master
</code></pre></div>
<p>Можно изменить master на любую другую ветвь чтобы отправить изменения на неё.</p>

<p>Если вы еще не клонировали существующий репозиторий и хотите подключить ваш к удаленному, вам нужно добавить его, выполнив</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git remote add origin &lt;адрес_сервера&gt;
</code></pre></div>
<p>Теперь вы можете отправлять изменения на удаленный репозиторий</p>

<h4>Ветвление</h4>

<p>Ветки используются для разработки функционала изолированного от остального. Ветка master используется по умолчанию когда вы создаете репозиторий. Используйте другие ветки для разработки и слияние в master когда разработка завершена. 
Создать новую ветку с названием &quot;feature_x&quot; и переключиться на неё можно командой</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git checkout -b feature_x
</code></pre></div>
<p>Переключиться обратно на master</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git checkout master
</code></pre></div>
<p>Удалить ветку</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git branch -d feature_x
</code></pre></div>
<p>Ветка не будет доступна тем, кто пользуется с вами удаленным репозиторием пока вы не отправите её туда</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git push origin &lt;имя_ветки&gt;
</code></pre></div>
<h4>Обновление и слияние</h4>

<p>Обновить ваш локальный репозиторий, можно командой</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git pull
</code></pre></div>
<p>которая заберет изменения из удаленного репозитория и проведет слияние с активной веткой.
Для того чтобы слить другую ветку с активной (например master), используйте команду</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git merge &lt;имя_ветки&gt;
</code></pre></div>
<p>В обоих случаях git пытается автоматически слить изменения. К сожалению, это не всегда возможно и результатом станет конфликт. Вы ответственны за разрешение возникших конфликтов, путем ручного редактирования файлов указанных git. После изменений вам надо пометить их как слитые</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git add &lt;имя_файла&gt;
</code></pre></div>
<p>перед слиянием вы можете предварительно посмотреть на изменения</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git diff &lt;имя_ветки&gt; &lt;имя_другой_ветки&gt;
</code></pre></div>
<h4>Замена локальных изменений</h4>

<p>В случае если вы сделали что-то не то, вы можете заменить локальные изменения, используя команду</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git checkout — &lt;имя_файла&gt;
</code></pre></div>
<p>Произойдет замена изменений в вашем рабочем каталоге, на то что сейчас находится в HEAD. Изменения уже внесенные в индекс, так же как новые файлы будут сохранены.
Если же вы хотите удалить все ваши локальные изменения и коммиты, получите (fetch) последние изменения с сервера и укажите локальной ветке master на них вот так</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git fetch origin
git reset —hard origin/master
</code></pre></div>
<h4>Твики и удобные команды</h4>

<p>Встроенный в git графический интерфейс</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">gitk
</code></pre></div>
<p>Использовать цветной вывод в терминале</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git config color.ui true
</code></pre></div>
<p>Выводить в логе коммит на одной строке</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git config format.pretty oneline
</code></pre></div>
<p>Интерактивный способ добавления в индекс</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git add -i
</code></pre></div>
    <script type="text/javascript">(function() {
      if (window.pluso)if (typeof window.pluso.start == "function") return;
      if (window.ifpluso==undefined) { window.ifpluso = 1;
        var d = document, s = d.createElement('script'), g = 'getElementsByTagName';
        s.type = 'text/javascript'; s.charset='UTF-8'; s.async = true;
        s.src = ('https:' == window.location.protocol ? 'https' : 'http')  + '://share.pluso.ru/pluso-like.js';
        var h=d[g]('body')[0];
        h.appendChild(s);
        }})();</script>
    <div class="time">Ключевые слова:
      
      <span class="label label-primary">разработка в команде</span>
       
      <span class="label label-primary">версионный контроль</span>
       
      <span class="label label-primary">must-know</span>
        </div>
      <h4>Поделиться статьей</h4>
      <script type="text/javascript" src="//yandex.st/share/share.js" charset="utf-8"></script>
      <div class="yashare-auto-init" data-yashareL10n="ru" data-yashareQuickServices="vkontakte,facebook,twitter,gplus" data-yashareTheme="counter"></div> 
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'proglibru'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

            </div>

            <div class="col-lg-3">
                <h4>Другие страницы сайта</h4>
                <ul class="list-group">
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/categories">Каталог постов по категориям</a></li>
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/complexity">Шпаргалка по сложности алгоритмов и структур данных</a></li>
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/wiki">Генератор wiki-страниц для пабликов и групп вк</a></li>
                </ul>
                        </li>
                <div id="vk_groups"></div><br />
                <script type="text/javascript">
                    VK.Widgets.Group("vk_groups", {mode: 1, width: "220", height: "400", color1: 'FFFFFF', color2: '2B587A', color3: '5B7FA6'}, 54530371);
                </script>
                <div id="social">
                    
                    <br /><!-- Yandex.Metrika informer -->
                    <a href="https://metrika.yandex.ru/stat/?id=24910340&amp;from=informer" target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/24910340/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:24910340,lang:'ru'});return false}catch(e){}"/></a>
                    <!-- /Yandex.Metrika informer -->

                    <!-- Yandex.Metrika counter -->
                    <script type="text/javascript">
                    (function (d, w, c) {
                    (w[c] = w[c] || []).push(function() {
                    try {
                    w.yaCounter24910340 = new Ya.Metrika({id:24910340,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
                    } catch(e) { }
                    });

                    var n = d.getElementsByTagName("script")[0],
                        s = d.createElement("script"),
                        f = function () { n.parentNode.insertBefore(s, n); };
                        s.type = "text/javascript";
                        s.async = true;
                        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

                    if (w.opera == "[object Opera]") {
                        d.addEventListener("DOMContentLoaded", f, false);
                        } else { f(); }
                        })(document, window, "yandex_metrika_callbacks");
                    </script>
                    <noscript><div><img src="//mc.yandex.ru/watch/24910340" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
                    <!-- /Yandex.Metrika counter -->
                </div>
            </div> 
        </div>
        <hr>

        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Библиотека программиста, 2014 г.</p>
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Библиотека программиста -->
                    <ins class="adsbygoogle"
                        style="display:block"
                        data-ad-client="ca-pub-6621414197364714"
                        data-ad-slot="8403515788"
                        data-ad-format="auto"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>               
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- JavaScript -->
    <script src="http://theasder.github.io/js/jquery-1.10.2.js"></script>
    <script src="http://theasder.github.io/js/bootstrap.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50765579-1', 'theasder.github.io');
  ga('send', 'pageview');

</script>
</body>

</html>
