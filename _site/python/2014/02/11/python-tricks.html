<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic,700italic&subset=latin,cyrillic,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
    <title>Интересные приёмы на языке программирования Python</title>

    <!-- Bootstrap core CSS -->
    <!--
    <link href="http://theasder.github.io/css/complexity.css" rel="stylesheet">
    -->
    <link href="http://theasder.github.io/css/bootstrap.css" rel="stylesheet">

    <!-- Add custom CSS here -->
    <link href="http://theasder.github.io/css/blog-post.css" rel="stylesheet">
    <script type="text/javascript" src="//vk.com/js/api/openapi.js?112"></script>
    <script type="text/javascript">
        VK.init({apiId: 4340751, onlyWidgets: true});
    </script>
</head>

<body>
    <div class="container">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://theasder.github.io">Библиотека программиста</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                        <li class="active"><a href="http://theasder.github.io/"><span class="glyphicon glyphicon-file"></span>  Статьи</a></li>
                        <li><a target="_blank" href="http://vk.com/page-54530371_44620320"><span class="glyphicon glyphicon-book"></span>  Каталог книг</a></li>
                        <li><a target="_blank" href="http://vk.com/page-54530371_46988280"><span class="glyphicon glyphicon-film"></span>  Видео-лекции</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>
    <div class="container">
        <div class="row">
            <div class="col-lg-9">
                    <h3>Интересные приёмы на языке программирования Python</h3>
<p class="time"><span class="label label-default">python</span> <span class="glyphicon glyphicon-time"></span> 11/02/2014 </p>

<div class="post">
<p><img src="https://www.python.org/static/community_logos/python-logo-master-v3-TM.png" class="img-responsive" /><br /></p>

<p>Генератор списков и выражений.</p>

<p>Вместо использования цикла для задания списка</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; b = []
&gt;&gt;&gt; for x in range(10):
b.append(10 * x)
&gt;&gt;&gt; b
[0, 10, 20, 30, 40, 50, 60, 70, 80, 90]
</code></pre></div>
<p>можно использовать генератор списков</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; [10 * x for x in range(10)]
[0, 10, 20, 30, 40, 50, 60, 70, 80, 90]
</code></pre></div>
<p>также Python 2.7 поддерживает генераторы словарей и множеств:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; {x: 10 * x for x in range(5)}
{0: 0, 1: 10, 2: 20, 3: 30, 4: 40}
&gt;&gt;&gt; {10 * x for x in range(5)}
set([0, 40, 10, 20, 30])
</code></pre></div>
<p>Интересные приёмы с zip.</p>

<p>Транспонировать матрицу:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; l = [­[1, 2, 3], [4, 5, 6]]
&gt;&gt;&gt; zip(*l)
[(1, 4), (2, 5), (3, 6)]
</code></pre></div>
<p>Разделение списка на группы из n элементов:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; l = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8]
&gt;&gt;&gt; zip(*([iter(l)] * 3))
[(3, 1, 4), (1, 5, 9), (2, 6, 5), (3, 5, 8)]
</code></pre></div>
<p>А также:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; import this
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&#39;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one— and preferably only one —obvious way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea — let&#39;s do more of those!
</code></pre></div>
<p>Простой HTTP сервер может быть запущен за секунды:
для python 2.7</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; python -m SimpleHTTPServer
</code></pre></div>
<p>для python 3</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; python3 -m http.server
</code></pre></div>
<p>Сервер запускается на порте 8080 по умолчанию, но это можно изменить. </p>

<p>Найти самую длинную строчку в файле:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; max(open(&#39;test.txt&#39;), key=len)
</code></pre></div>
<p>Сумма цифр беззнакового целого числа:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; sum(map(int, str(n)))
</code></pre></div>
<p>Искрографы можно строить с помощью <a href="https://gist.github.com/stefanv/1371985">кода, приведенного по ссылке</a></p>

<p>Примеры:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">spark 1,5,22,13,53
▁▁▃▂▇
spark 0 30 55 80 33 150 
▁▂▃▅▂▇
spark 0.1 0.2 0.9 -0.5
▄▅█▁
</code></pre></div>
<p>Также можно задавать бесконечность в Python:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; my_inf = float(&#39;Inf&#39;)
&gt;&gt;&gt; 99999999999 &gt; my_inf
False
&gt;&gt;&gt; my_neg_inf = float(&#39;-Inf&#39;)
&gt;&gt;&gt; my_neg_inf &gt; -9999999999
False
</code></pre></div>
<p>Попробуйте набрать эту строчку:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">import antigravity
</code></pre></div>
<p>Менять значения переменных между собой:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">a, b = b, a
</code></pre></div>
<p>Интуитивно понятные сравнения:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; x = 2
&gt;&gt;&gt; 3 &gt; x == 1
False
&gt;&gt;&gt; 1 &lt; x &lt; 3
True
&gt;&gt;&gt; 10 &lt; 10*x &lt; 30 
True
&gt;&gt;&gt; 10 &lt; x**5 &lt; 30 
False
&gt;&gt;&gt; 100 &lt; x*100 &gt;= x**6 + 34 &gt; x &lt;= 2*x &lt;5
True
</code></pre></div>
<p>Обратный порядок.
Создать новый массив, элементы которого записаны в обратном порядке элементов старого массива</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; mylist = [1,2,3]
&gt;&gt;&gt; mylist.reverse()
&gt;&gt;&gt; mylist
[3,2,1]
</code></pre></div>
<p>Распечатать в обратном порядке:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; for element in reversed([1,2,3]): 
print element
3
2
1
</code></pre></div>
<p>Можно также для обратного порядка использовать [::-1]</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; &quot;Hello world&quot;[::-1]
&#39;dlrow olleH&#39;
&gt;&gt;&gt; [1,2,3][::-1]
[3, 2, 1]
</code></pre></div>
<p>Автоматическая распаковка данных.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; def foo(a, b, c):
print a, b, c
&gt;&gt;&gt; mydict = {&#39;a&#39;:1, &#39;b&#39;:2, &#39;c&#39;:3}
&gt;&gt;&gt; mylist = [10, 20, 30]
&gt;&gt;&gt; foo(*mydict)
a c b
&gt;&gt;&gt; foo(** mydict)
1 2 3
</code></pre></div>
<p>Возможность пронумеровать элементы:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; class PlayerRanking:
Bolt, Green, Johnson, Mom = range(4) 
&gt;&gt;&gt; PlayerRanking.Mom
3
&gt;&gt;&gt; PlayerRanking.Bolt
0
</code></pre></div>
<p>Словарь(это такое название структуры данных) очень удобен для размещения переключателей частоиспользуемых операций. Например, можно сделать простенький калькулятор:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&gt;&gt;&gt; calculator = {
&#39;plus&#39;: lambda x, y: x + y,
&#39;minus&#39;: lambda x, y: x - y
}
&gt;&gt;&gt; calculator[&#39;minus&#39;](9,3)
6
</code></pre></div>
    <script type="text/javascript">(function() {
      if (window.pluso)if (typeof window.pluso.start == "function") return;
      if (window.ifpluso==undefined) { window.ifpluso = 1;
        var d = document, s = d.createElement('script'), g = 'getElementsByTagName';
        s.type = 'text/javascript'; s.charset='UTF-8'; s.async = true;
        s.src = ('https:' == window.location.protocol ? 'https' : 'http')  + '://share.pluso.ru/pluso-like.js';
        var h=d[g]('body')[0];
        h.appendChild(s);
      }})();</script>
      <h4>Поделиться статьей</h4>
    <div class="pluso" data-background="none;" data-options="medium,square,line,horizontal,counter,sepcounter=1,theme=14" data-services="vkontakte,facebook,twitter,google"></div>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'proglibru'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

            </div>

            <div class="col-lg-3">
                <h4>Другие страницы сайта</h4>
                <ul class="list-group">
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/categories">Каталог постов по категориям</a></li>
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/complexity">Шпаргалка по сложности алгоритмов и структур данных</a></li>
                    <li class="list-group-item"><a target="_blank" href="http://theasder.github.io/wiki">Генератор wiki-страниц для пабликов и групп вк</a></li>
                </ul>
                        </li>
                <div id="vk_groups"></div><br />
                <script type="text/javascript">
                    VK.Widgets.Group("vk_groups", {mode: 1, width: "220", height: "400", color1: 'FFFFFF', color2: '2B587A', color3: '5B7FA6'}, 54530371);
                </script>
                <div id="social">
                    <h4>Расскажите о нашем сайте</h4>
                        <script type="text/javascript">(function() {
                            if (window.pluso)if (typeof window.pluso.start == "function") return;
                            if (window.ifpluso==undefined) { window.ifpluso = 1;
                            var d = document, s = d.createElement('script'), g = 'getElementsByTagName';
                            s.type = 'text/javascript'; s.charset='UTF-8'; s.async = true;
                            s.src = ('https:' == window.location.protocol ? 'https' : 'http')  + '://share.pluso.ru/pluso-like.js';
                            var h=d[g]('body')[0];
                            h.appendChild(s);
                        }})();</script>
                    <div class="pluso" data-background="none;" data-options="medium,square,line,horizontal,counter,sepcounter=1,theme=14" data-services="vkontakte,facebook,twitter,google" data-url="http://theasder.github.io" data-title="Библиотека программиста"></div> 
<!-- Yandex.Metrika informer -->
<a href="https://metrika.yandex.ru/stat/?id=24910340&amp;from=informer"
target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/24910340/3_1_FFFFFFFF_EFEFEFFF_0_pageviews"
style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:24910340,lang:'ru'});return false}catch(e){}"/></a>
<!-- /Yandex.Metrika informer -->

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter24910340 = new Ya.Metrika({id:24910340,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/24910340" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
            </div>
            </div>
        </div>

        <hr>

        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Библиотека программиста, 2014 г.</p>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->

    <!-- JavaScript -->
    <script src="http://theasder.github.io/js/jquery-1.10.2.js"></script>
    <script src="http://theasder.github.io/js/bootstrap.js"></script>

    <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</body>

</html>
